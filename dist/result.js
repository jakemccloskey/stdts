"use strict";
const empty_1 = require('./empty');
const option_1 = require('./option');
function* errIterator() { }
class ErrImpl extends empty_1.default {
    constructor(value) {
        super();
        this.kind = 'err';
        this.value = value;
    }
    unwrapErr(msg) {
        return this.value;
    }
    unwrap(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    isOk() {
        return false;
    }
    isErr() {
        return true;
    }
    ok() {
        return option_1.None();
    }
    err() {
        return option_1.Some(this.value);
    }
    map(f) {
        return Err(this.value);
    }
    mapErr(f) {
        return Err(f(this.value));
    }
    and(res) {
        return Err(this.value);
    }
    andThen(f) {
        return Err(this.value);
    }
    or(res) {
        return res;
    }
    orElse(f) {
        return f(this.value);
    }
    unwrapOr(optb) {
        return optb;
    }
    unwrapOrElse(f) {
        return f(this.value);
    }
    [Symbol.iterator]() {
        return errIterator();
    }
}
function Err(value) {
    return new ErrImpl(value);
}
exports.Err = Err;
function* okIterator(v) {
    yield v;
}
class OkImpl extends empty_1.default {
    constructor(value) {
        super();
        this.kind = 'ok';
        this.value = value;
    }
    unwrapErr(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    unwrap(msg) {
        return this.value;
    }
    isOk() {
        return true;
    }
    isErr() {
        return false;
    }
    ok() {
        return option_1.Some(this.value);
    }
    err() {
        return option_1.None();
    }
    map(f) {
        return Ok(f(this.value));
    }
    mapErr(f) {
        return Ok(this.value);
    }
    and(res) {
        return res;
    }
    andThen(f) {
        return f(this.value);
    }
    or(res) {
        return Ok(this.value);
    }
    orElse(f) {
        return Ok(this.value);
    }
    unwrapOr(optb) {
        return this.value;
    }
    unwrapOrElse(f) {
        return this.value;
    }
    [Symbol.iterator]() {
        return okIterator(this.value);
    }
}
function Ok(value) {
    return new OkImpl(value);
}
exports.Ok = Ok;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsicmVzdWx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx3QkFBa0IsU0FBUyxDQUFDLENBQUE7QUFDNUIseUJBQWlDLFVBQVUsQ0FBQyxDQUFBO0FBeUI1QywwQkFBaUQsQ0FBQztBQUVsRCxzQkFBNEIsZUFBSztJQUk3QixZQUFZLEtBQVE7UUFDaEIsT0FBTyxDQUFDO1FBSkksU0FBSSxHQUFVLEtBQUssQ0FBQztRQUtoQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQVk7UUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFZO1FBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVNLElBQUk7UUFDUCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTSxLQUFLO1FBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sRUFBRTtRQUNMLE1BQU0sQ0FBQyxhQUFJLEVBQUssQ0FBQztJQUNyQixDQUFDO0lBRU0sR0FBRztRQUNOLE1BQU0sQ0FBQyxhQUFJLENBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxHQUFHLENBQUksQ0FBYztRQUN4QixNQUFNLENBQUMsR0FBRyxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sTUFBTSxDQUFJLENBQWM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVNLEdBQUcsQ0FBSSxHQUFpQjtRQUMzQixNQUFNLENBQUMsR0FB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VUFBVSxDQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFlBQXlCLEtBQVE7SUFDN0IsTUFBTSxDQUFDLElBQUksTUFBTSxDQUFPLEtBQUssQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFGZSxVQUFFLEtBRWpCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW1wdHkgZnJvbSAnLi9lbXB0eSc7XG5pbXBvcnQge09wdGlvbiwgU29tZSwgTm9uZX0gZnJvbSAnLi9vcHRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdEJhc2U8VCwgRT4gZXh0ZW5kcyBFbXB0eSB7XG4gICAgdW53cmFwRXJyKG1zZz86IHN0cmluZyk6IEU7XG4gICAgdW53cmFwKG1zZz86IHN0cmluZyk6IFQ7XG4gICAgaXNPaygpOiB0aGlzIGlzIE9rPFQsIEU+O1xuICAgIGlzRXJyKCk6IHRoaXMgaXMgRXJyPFQsIEU+O1xuICAgIG9rKCk6IE9wdGlvbjxUPjtcbiAgICBlcnIoKTogT3B0aW9uPEU+O1xuICAgIG1hcDxVPihmOiAodjogVCkgPT4gVSk6IFJlc3VsdDxVLCBFPjtcbiAgICBtYXBFcnI8Rj4oZjogKGU6IEUpID0+IEYpOiBSZXN1bHQ8VCwgRj47XG4gICAgYW5kPFU+KHJlczogUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+O1xuICAgIGFuZFRoZW48VT4oZjogKHY6IFQpID0+IFJlc3VsdDxVLCBFPik6IFJlc3VsdDxVLCBFPjtcbiAgICBvcjxGPihyZXM6IFJlc3VsdDxULCBGPik6IFJlc3VsdDxULCBGPjtcbiAgICBvckVsc2U8Rj4oZjogKGVycjogRSkgPT4gUmVzdWx0PFQsIEY+KTogUmVzdWx0PFQsIEY+O1xuICAgIHVud3JhcE9yKG9wdGI6IFQpOiBUO1xuICAgIHVud3JhcE9yRWxzZShmOiAoZXJyOiBFKSA9PiBUKTogVDtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVycjxULCBFPiBleHRlbmRzIFJlc3VsdEJhc2U8VCwgRT4ge1xuICAgIHJlYWRvbmx5IGtpbmQ6ICdlcnInO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBFO1xufVxuXG5mdW5jdGlvbiogZXJySXRlcmF0b3I8VD4oKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7fVxuXG5jbGFzcyBFcnJJbXBsPFQsIEU+IGV4dGVuZHMgRW1wdHkgaW1wbGVtZW50cyBFcnI8VCwgRT4ge1xuICAgIHB1YmxpYyByZWFkb25seSBraW5kOiAnZXJyJyA9ICdlcnInO1xuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogRTtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBFKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwRXJyKG1zZz86IHN0cmluZyk6IEUge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwKG1zZz86IHN0cmluZyk6IFQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID8gbXNnICsgJzonIDogJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc09rKCk6IHRoaXMgaXMgT2s8VCwgRT4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRXJyKCk6IHRoaXMgaXMgRXJyPFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIG9rKCk6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiBOb25lPFQ+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGVycigpOiBPcHRpb248RT4ge1xuICAgICAgICByZXR1cm4gU29tZTxFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwRXJyPEY+KGY6IChlOiBFKSA9PiBGKTogUmVzdWx0PFQsIEY+IHtcbiAgICAgICAgcmV0dXJuIEVycjxULCBGPihmKHRoaXMudmFsdWUpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kPFU+KHJlczogUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kVGhlbjxVPihmOiAodjogVCkgPT4gUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3I8Rj4ocmVzOiBSZXN1bHQ8VCwgRj4pOiBSZXN1bHQ8VCwgRj4ge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBvckVsc2U8Rj4oZjogKGVycjogRSkgPT4gUmVzdWx0PFQsIEY+KTogUmVzdWx0PFQsIEY+IHtcbiAgICAgICAgcmV0dXJuIGYodGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yKG9wdGI6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIG9wdGI7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yRWxzZShmOiAoZXJyOiBFKSA9PiBUKTogVCB7XG4gICAgICAgIHJldHVybiBmKHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+IHtcbiAgICAgICAgcmV0dXJuIGVyckl0ZXJhdG9yPFQ+KClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnI8VCwgRT4odmFsdWU6IEUpOiBFcnI8VCwgRT4ge1xuICAgIHJldHVybiBuZXcgRXJySW1wbDxULCBFPih2YWx1ZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2s8VCwgRT4gZXh0ZW5kcyBSZXN1bHRCYXNlPFQsIEU+IHtcbiAgICByZWFkb25seSBraW5kOiAnb2snO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBUO1xufVxuXG5mdW5jdGlvbiogb2tJdGVyYXRvcjxUPih2OiBUKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgeWllbGQgdjtcbn1cblxuY2xhc3MgT2tJbXBsPFQsIEU+IGV4dGVuZHMgRW1wdHkgaW1wbGVtZW50cyBPazxULCBFPiB7XG4gICAgcHVibGljIHJlYWRvbmx5IGtpbmQ6ICdvaycgPSAnb2snO1xuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogVDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBUKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwRXJyKG1zZz86IHN0cmluZyk6IEUge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID8gbXNnICsgJzonIDogJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1bndyYXAobXNnPzogc3RyaW5nKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc09rKCk6IHRoaXMgaXMgT2s8VCwgRT4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNFcnIoKTogdGhpcyBpcyBFcnI8VCwgRT4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIG9rKCk6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiBTb21lPFQ+KHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBlcnIoKTogT3B0aW9uPEU+IHtcbiAgICAgICAgcmV0dXJuIE5vbmU8RT4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIE9rPFUsIEU+KGYodGhpcy52YWx1ZSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYXBFcnI8Rj4oZjogKGU6IEUpID0+IEYpOiBSZXN1bHQ8VCwgRj4ge1xuICAgICAgICByZXR1cm4gT2s8VCwgRj4odGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFuZDxVPihyZXM6IFJlc3VsdDxVLCBFPik6IFJlc3VsdDxVLCBFPiB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFuZFRoZW48VT4oZjogKHY6IFQpID0+IFJlc3VsdDxVLCBFPik6IFJlc3VsdDxVLCBFPiB7XG4gICAgICAgIHJldHVybiBmKHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcjxGPihyZXM6IFJlc3VsdDxULCBGPik6IFJlc3VsdDxULCBGPiB7XG4gICAgICAgIHJldHVybiBPazxULCBGPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3JFbHNlPEY+KGY6IChlcnI6IEUpID0+IFJlc3VsdDxULCBGPik6IFJlc3VsdDxULCBGPiB7XG4gICAgICAgIHJldHVybiBPazxULCBGPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwT3Iob3B0YjogVCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwT3JFbHNlKGY6IChlcnI6IEUpID0+IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgICAgICByZXR1cm4gb2tJdGVyYXRvcjxUPih0aGlzLnZhbHVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPazxULCBFPih2YWx1ZTogVCk6IE9rPFQsIEU+IHtcbiAgICByZXR1cm4gbmV3IE9rSW1wbDxULCBFPih2YWx1ZSk7XG59XG5cbmV4cG9ydCB0eXBlIFJlc3VsdDxULCBFPiA9IE9rPFQsIEU+IHwgRXJyPFQsIEU+O1xuIl19