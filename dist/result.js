"use strict";
const option_1 = require('./option');
function* errIterator() { }
class ErrImpl {
    constructor(value) {
        this.kind = 'err';
        this.value = value;
    }
    unwrapErr(msg) {
        return this.value;
    }
    unwrap(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    isOk() {
        return false;
    }
    isErr() {
        return true;
    }
    ok() {
        return option_1.None();
    }
    err() {
        return option_1.Some(this.value);
    }
    map(f) {
        return Err(this.value);
    }
    mapErr(f) {
        return Err(f(this.value));
    }
    and(res) {
        return Err(this.value);
    }
    andThen(f) {
        return Err(this.value);
    }
    or(res) {
        return res;
    }
    orElse(f) {
        return f(this.value);
    }
    unwrapOr(optb) {
        return optb;
    }
    unwrapOrElse(f) {
        return f(this.value);
    }
    [Symbol.iterator]() {
        return errIterator();
    }
}
function Err(value) {
    return new ErrImpl(value);
}
exports.Err = Err;
function* okIterator(v) {
    yield v;
}
class OkImpl {
    constructor(value) {
        this.kind = 'ok';
        this.value = value;
    }
    unwrapErr(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    unwrap(msg) {
        return this.value;
    }
    isOk() {
        return true;
    }
    isErr() {
        return false;
    }
    ok() {
        return option_1.Some(this.value);
    }
    err() {
        return option_1.None();
    }
    map(f) {
        return Ok(f(this.value));
    }
    mapErr(f) {
        return Ok(this.value);
    }
    and(res) {
        return res;
    }
    andThen(f) {
        return f(this.value);
    }
    or(res) {
        return Ok(this.value);
    }
    orElse(f) {
        return Ok(this.value);
    }
    unwrapOr(optb) {
        return this.value;
    }
    unwrapOrElse(f) {
        return this.value;
    }
    [Symbol.iterator]() {
        return okIterator(this.value);
    }
}
function Ok(value) {
    return new OkImpl(value);
}
exports.Ok = Ok;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsicmVzdWx0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx5QkFBaUMsVUFBVSxDQUFDLENBQUE7QUF5QjVDLDBCQUFpRCxDQUFDO0FBRWxEO0lBSUksWUFBWSxLQUFRO1FBSEosU0FBSSxHQUFVLEtBQUssQ0FBQztRQUloQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sU0FBUyxDQUFDLEdBQVk7UUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFZO1FBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVNLElBQUk7UUFDUCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTSxLQUFLO1FBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sRUFBRTtRQUNMLE1BQU0sQ0FBQyxhQUFJLEVBQUssQ0FBQztJQUNyQixDQUFDO0lBRU0sR0FBRztRQUNOLE1BQU0sQ0FBQyxhQUFJLENBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxHQUFHLENBQUksQ0FBYztRQUN4QixNQUFNLENBQUMsR0FBRyxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sTUFBTSxDQUFJLENBQWM7UUFDM0IsTUFBTSxDQUFDLEdBQUcsQ0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVNLEdBQUcsQ0FBSSxHQUFpQjtRQUMzQixNQUFNLENBQUMsR0FBRyxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRU0sT0FBTyxDQUFJ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QyxJQUFJLE1BQU0sQ0FBTyxLQUFLLENBQUMsQ0FBQztBQUNuQyxDQUFDO0FBRmUsVUFBRSxLQUVqQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPcHRpb24sIFNvbWUsIE5vbmV9IGZyb20gJy4vb3B0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXN1bHRCYXNlPFQsIEU+IHtcbiAgICB1bndyYXBFcnIobXNnPzogc3RyaW5nKTogRTtcbiAgICB1bndyYXAobXNnPzogc3RyaW5nKTogVDtcbiAgICBpc09rKCk6IHRoaXMgaXMgT2s8VCwgRT47XG4gICAgaXNFcnIoKTogdGhpcyBpcyBFcnI8VCwgRT47XG4gICAgb2soKTogT3B0aW9uPFQ+O1xuICAgIGVycigpOiBPcHRpb248RT47XG4gICAgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogUmVzdWx0PFUsIEU+O1xuICAgIG1hcEVycjxGPihmOiAoZTogRSkgPT4gRik6IFJlc3VsdDxULCBGPjtcbiAgICBhbmQ8VT4ocmVzOiBSZXN1bHQ8VSwgRT4pOiBSZXN1bHQ8VSwgRT47XG4gICAgYW5kVGhlbjxVPihmOiAodjogVCkgPT4gUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+O1xuICAgIG9yPEY+KHJlczogUmVzdWx0PFQsIEY+KTogUmVzdWx0PFQsIEY+O1xuICAgIG9yRWxzZTxGPihmOiAoZXJyOiBFKSA9PiBSZXN1bHQ8VCwgRj4pOiBSZXN1bHQ8VCwgRj47XG4gICAgdW53cmFwT3Iob3B0YjogVCk6IFQ7XG4gICAgdW53cmFwT3JFbHNlKGY6IChlcnI6IEUpID0+IFQpOiBUO1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyPFQsIEU+IGV4dGVuZHMgUmVzdWx0QmFzZTxULCBFPiB7XG4gICAgcmVhZG9ubHkga2luZDogJ2Vycic7XG4gICAgcmVhZG9ubHkgdmFsdWU6IEU7XG59XG5cbmZ1bmN0aW9uKiBlcnJJdGVyYXRvcjxUPigpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+IHt9XG5cbmNsYXNzIEVyckltcGw8VCwgRT4gaW1wbGVtZW50cyBFcnI8VCwgRT4ge1xuICAgIHB1YmxpYyByZWFkb25seSBraW5kOiAnZXJyJyA9ICdlcnInO1xuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogRTtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBFKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwRXJyKG1zZz86IHN0cmluZyk6IEUge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwKG1zZz86IHN0cmluZyk6IFQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID8gbXNnICsgJzonIDogJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc09rKCk6IHRoaXMgaXMgT2s8VCwgRT4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRXJyKCk6IHRoaXMgaXMgRXJyPFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIG9rKCk6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiBOb25lPFQ+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGVycigpOiBPcHRpb248RT4ge1xuICAgICAgICByZXR1cm4gU29tZTxFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwRXJyPEY+KGY6IChlOiBFKSA9PiBGKTogUmVzdWx0PFQsIEY+IHtcbiAgICAgICAgcmV0dXJuIEVycjxULCBGPihmKHRoaXMudmFsdWUpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kPFU+KHJlczogUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kVGhlbjxVPihmOiAodjogVCkgPT4gUmVzdWx0PFUsIEU+KTogUmVzdWx0PFUsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxVLCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3I8Rj4ocmVzOiBSZXN1bHQ8VCwgRj4pOiBSZXN1bHQ8VCwgRj4ge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBvckVsc2U8Rj4oZjogKGVycjogRSkgPT4gUmVzdWx0PFQsIEY+KTogUmVzdWx0PFQsIEY+IHtcbiAgICAgICAgcmV0dXJuIGYodGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yKG9wdGI6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIG9wdGI7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yRWxzZShmOiAoZXJyOiBFKSA9PiBUKTogVCB7XG4gICAgICAgIHJldHVybiBmKHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+IHtcbiAgICAgICAgcmV0dXJuIGVyckl0ZXJhdG9yPFQ+KClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnI8VCwgRT4odmFsdWU6IEUpOiBFcnI8VCwgRT4ge1xuICAgIHJldHVybiBuZXcgRXJySW1wbDxULCBFPih2YWx1ZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2s8VCwgRT4gZXh0ZW5kcyBSZXN1bHRCYXNlPFQsIEU+IHtcbiAgICByZWFkb25seSBraW5kOiAnb2snO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBUO1xufVxuXG5mdW5jdGlvbiogb2tJdGVyYXRvcjxUPih2OiBUKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgeWllbGQgdjtcbn1cblxuY2xhc3MgT2tJbXBsPFQsIEU+IGltcGxlbWVudHMgT2s8VCwgRT4ge1xuICAgIHB1YmxpYyByZWFkb25seSBraW5kOiAnb2snID0gJ29rJztcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IFQ7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogVCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcEVycihtc2c/OiBzdHJpbmcpOiBFIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyA/IG1zZyArICc6JyA6ICcnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwKG1zZz86IHN0cmluZyk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNPaygpOiB0aGlzIGlzIE9rPFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGlzRXJyKCk6IHRoaXMgaXMgRXJyPFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBvaygpOiBPcHRpb248VD4ge1xuICAgICAgICByZXR1cm4gU29tZTxUPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZXJyKCk6IE9wdGlvbjxFPiB7XG4gICAgICAgIHJldHVybiBOb25lPEU+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIG1hcDxVPihmOiAodjogVCkgPT4gVSk6IFJlc3VsdDxVLCBFPiB7XG4gICAgICAgIHJldHVybiBPazxVLCBFPihmKHRoaXMudmFsdWUpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwRXJyPEY+KGY6IChlOiBFKSA9PiBGKTogUmVzdWx0PFQsIEY+IHtcbiAgICAgICAgcmV0dXJuIE9rPFQsIEY+KHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbmQ8VT4ocmVzOiBSZXN1bHQ8VSwgRT4pOiBSZXN1bHQ8VSwgRT4ge1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbmRUaGVuPFU+KGY6ICh2OiBUKSA9PiBSZXN1bHQ8VSwgRT4pOiBSZXN1bHQ8VSwgRT4ge1xuICAgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3I8Rj4ocmVzOiBSZXN1bHQ8VCwgRj4pOiBSZXN1bHQ8VCwgRj4ge1xuICAgICAgICByZXR1cm4gT2s8VCwgRj4odGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9yRWxzZTxGPihmOiAoZXJyOiBFKSA9PiBSZXN1bHQ8VCwgRj4pOiBSZXN1bHQ8VCwgRj4ge1xuICAgICAgICByZXR1cm4gT2s8VCwgRj4odGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yKG9wdGI6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yRWxzZShmOiAoZXJyOiBFKSA9PiBUKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+IHtcbiAgICAgICAgcmV0dXJuIG9rSXRlcmF0b3I8VD4odGhpcy52YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gT2s8VCwgRT4odmFsdWU6IFQpOiBPazxULCBFPiB7XG4gICAgcmV0dXJuIG5ldyBPa0ltcGw8VCwgRT4odmFsdWUpO1xufVxuXG5leHBvcnQgdHlwZSBSZXN1bHQ8VCwgRT4gPSBPazxULCBFPiB8IEVycjxULCBFPjtcbiJdfQ==