"use strict";
const empty_1 = require('./empty');
const result_1 = require('./result');
function* noneIterator() { }
class NoneImpl extends empty_1.default {
    constructor(...args) {
        super(...args);
        this.kind = 'none';
    }
    isSome() {
        return false;
    }
    isNone() {
        return true;
    }
    unwrap(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    unwrapOr(def) {
        return def;
    }
    unwrapOrElse(f) {
        return f();
    }
    map(f) {
        return None();
    }
    mapOr(def, f) {
        return def;
    }
    mapOrElse(def, f) {
        return def();
    }
    okOr(err) {
        return result_1.Err(err);
    }
    okOrElse(err) {
        return result_1.Err(err());
    }
    and(optb) {
        return None();
    }
    andThen(f) {
        return None();
    }
    or(optb) {
        return optb;
    }
    orElse(f) {
        return f();
    }
    [Symbol.iterator]() {
        return noneIterator();
    }
}
function None() {
    return new NoneImpl();
}
exports.None = None;
function* someIterator(v) {
    yield v;
}
class SomeImpl extends empty_1.default {
    constructor(value) {
        super();
        this.kind = 'some';
        this.value = value;
    }
    isSome() {
        return true;
    }
    isNone() {
        return false;
    }
    unwrap() {
        return this.value;
    }
    unwrapOr(def) {
        return this.value;
    }
    unwrapOrElse(f) {
        return this.value;
    }
    map(f) {
        return Some(f(this.value));
    }
    mapOr(def, f) {
        return f(this.value);
    }
    mapOrElse(def, f) {
        return f(this.value);
    }
    okOr(err) {
        return result_1.Ok(this.value);
    }
    okOrElse(err) {
        return result_1.Ok(this.value);
    }
    and(optb) {
        return optb;
    }
    andThen(f) {
        return f(this.value);
    }
    or(optb) {
        return this;
    }
    orElse(f) {
        return this;
    }
    [Symbol.iterator]() {
        return someIterator(this.value);
    }
}
function Some(value) {
    return new SomeImpl(value);
}
exports.Some = Some;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsib3B0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx3QkFBa0IsU0FBUyxDQUFDLENBQUE7QUFDNUIseUJBQThCLFVBQVUsQ0FBQyxDQUFBO0FBd0J6QywyQkFBa0QsQ0FBQztBQUVuRCx1QkFBMEIsZUFBSztJQUEvQjtRQUEwQixlQUFLO1FBQ1gsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQTZEMUMsQ0FBQztJQTNEVSxNQUFNO1FBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFZO1FBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVNLFFBQVEsQ0FBQyxHQUFNO1FBQ2xCLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sWUFBWSxDQUFDLENBQVU7UUFDMUIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEdBQUcsQ0FBSSxDQUFjO1FBQ3hCLE1BQU0sQ0FBQyxJQUFJLEVBQUssQ0FBQztJQUNyQixDQUFDO0lBRU0sS0FBSyxDQUFJLEdBQU0sRUFBRSxDQUFjO1FBQ2xDLE1BQU0sQ0FBQyxHQUFHLENBQUE7SUFDZCxDQUFDO0lBRU0sU0FBUyxDQUFJLEdBQVksRUFBRSxDQUFjO1FBQzVDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQTtJQUNoQixDQUFDO0lBRU0sSUFBSSxDQUFJLEdBQU07UUFDakIsTUFBTSxDQUFDLFlBQUcsQ0FBTyxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU0sUUFBUSxDQUFJLEdBQVk7UUFDM0IsTUFBTSxDQUFDLFlBQUcsQ0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lB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JztcbmltcG9ydCB7UmVzdWx0LCBPaywgRXJyfSBmcm9tICcuL3Jlc3VsdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9uQmFzZTxUPiBleHRlbmRzIEVtcHR5IHtcbiAgICBpc1NvbWUoKTogdGhpcyBpcyBTb21lPFQ+O1xuICAgIGlzTm9uZSgpOiB0aGlzIGlzIE5vbmU8VD47XG4gICAgdW53cmFwKG1zZz86IHN0cmluZyk6IFQ7XG4gICAgdW53cmFwT3IoZGVmOiBUKTogVDtcbiAgICB1bndyYXBPckVsc2UoZjogKCkgPT4gVCk6IFQ7XG4gICAgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogT3B0aW9uPFU+O1xuICAgIG1hcE9yPFU+KGRlZjogVSwgZjogKHY6IFQpID0+IFUpOiBVO1xuICAgIG1hcE9yRWxzZTxVPihkZWY6ICgpID0+IFUsIGY6ICh2OiBUKSA9PiBVKTogVTtcbiAgICBva09yPEU+KGVycjogRSk6IFJlc3VsdDxULCBFPjtcbiAgICBva09yRWxzZTxFPihlcnI6ICgpID0+IEUpOiBSZXN1bHQ8VCwgRT47XG4gICAgYW5kPFU+KG9wdGI6IE9wdGlvbjxVPik6IE9wdGlvbjxVPjtcbiAgICBhbmRUaGVuPFU+KGY6ICh2OiBUKSA9PiBPcHRpb248VT4pOiBPcHRpb248VT47XG4gICAgb3Iob3B0YjogT3B0aW9uPFQ+KTogT3B0aW9uPFQ+O1xuICAgIG9yRWxzZShmOiAoKSA9PiBPcHRpb248VD4pOiBPcHRpb248VD47XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb25lPFQ+IGV4dGVuZHMgT3B0aW9uQmFzZTxUPiB7XG4gICAgcmVhZG9ubHkga2luZDogJ25vbmUnO1xufVxuXG5mdW5jdGlvbiogbm9uZUl0ZXJhdG9yPFQ+KCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge31cblxuY2xhc3MgTm9uZUltcGw8VD4gZXh0ZW5kcyBFbXB0eSBpbXBsZW1lbnRzIE5vbmU8VD4gIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZDogJ25vbmUnID0gJ25vbmUnO1xuXG4gICAgcHVibGljIGlzU29tZSgpOiB0aGlzIGlzIFNvbWU8VD4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTm9uZSgpOiB0aGlzIGlzIE5vbmU8VD4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwKG1zZz86IHN0cmluZyk6IFQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID8gbXNnICsgJzonIDogJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1bndyYXBPcihkZWY6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwT3JFbHNlKGY6ICgpID0+IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIGYoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogT3B0aW9uPFU+IHtcbiAgICAgICAgcmV0dXJuIE5vbmU8VT4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwT3I8VT4oZGVmOiBVLCBmOiAodjogVCkgPT4gVSk6IFUge1xuICAgICAgICByZXR1cm4gZGVmXG4gICAgfVxuXG4gICAgcHVibGljIG1hcE9yRWxzZTxVPihkZWY6ICgpID0+IFUsIGY6ICh2OiBUKSA9PiBVKTogVSB7XG4gICAgICAgIHJldHVybiBkZWYoKVxuICAgIH1cblxuICAgIHB1YmxpYyBva09yPEU+KGVycjogRSk6IFJlc3VsdDxULCBFPiB7XG4gICAgICAgIHJldHVybiBFcnI8VCwgRT4oZXJyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2tPckVsc2U8RT4oZXJyOiAoKSA9PiBFKTogUmVzdWx0PFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxULCBFPihlcnIoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFuZDxVPihvcHRiOiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gTm9uZTxVPigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbmRUaGVuPFU+KGY6ICh2OiBUKSA9PiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gTm9uZTxVPigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcihvcHRiOiBPcHRpb248VD4pOiBPcHRpb248VD4ge1xuICAgICAgICByZXR1cm4gb3B0YjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3JFbHNlKGY6ICgpID0+IE9wdGlvbjxUPik6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiBmKCk7XG4gICAgfVxuXG4gICAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgICAgICByZXR1cm4gbm9uZUl0ZXJhdG9yPFQ+KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTm9uZTxUPigpOiBOb25lPFQ+IHtcbiAgICByZXR1cm4gbmV3IE5vbmVJbXBsPFQ+KCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU29tZTxUPiBleHRlbmRzIE9wdGlvbkJhc2U8VD4ge1xuICAgIHJlYWRvbmx5IGtpbmQ6ICdzb21lJztcbiAgICByZWFkb25seSB2YWx1ZTogVDtcbn1cblxuZnVuY3Rpb24qIHNvbWVJdGVyYXRvcjxUPih2OiBUKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgeWllbGQgdjtcbn1cblxuY2xhc3MgU29tZUltcGw8VD4gZXh0ZW5kcyBFbXB0eSBpbXBsZW1lbnRzIFNvbWU8VD4ge1xuICAgIHB1YmxpYyByZWFkb25seSBraW5kOiAnc29tZScgPSAnc29tZSc7XG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBUO1xuXG4gICAgY29uc3RydWN0b3IodmFsdWU6IFQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1NvbWUoKTogdGhpcyBpcyBTb21lPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTm9uZSgpOiB0aGlzIGlzIE5vbmU8VD4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcCgpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yKGRlZjogVCk6IFQge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwT3JFbHNlKGY6ICgpID0+IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIG1hcDxVPihmOiAodjogVCkgPT4gVSk6IE9wdGlvbjxVPiB7XG4gICAgICAgIHJldHVybiBTb21lKGYodGhpcy52YWx1ZSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYXBPcjxVPihkZWY6IFUsIGY6ICh2OiBUKSA9PiBVKTogVSB7XG4gICAgICAgIHJldHVybiBmKHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYXBPckVsc2U8VT4oZGVmOiAoKSA9PiBVLCBmOiAodjogVCkgPT4gVSk6IFUge1xuICAgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2tPcjxFPihlcnI6IEUpOiBSZXN1bHQ8VCwgRT4ge1xuICAgICAgICByZXR1cm4gT2s8VCwgRT4odGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9rT3JFbHNlPEU+KGVycjogKCkgPT4gRSk6IFJlc3VsdDxULCBFPiB7XG4gICAgICAgIHJldHVybiBPazxULCBFPih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kPFU+KG9wdGI6IE9wdGlvbjxVPik6IE9wdGlvbjxVPiB7XG4gICAgICAgIHJldHVybiBvcHRiO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbmRUaGVuPFU+KGY6ICh2OiBUKSA9PiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3Iob3B0YjogT3B0aW9uPFQ+KTogT3B0aW9uPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIG9yRWxzZShmOiAoKSA9PiBPcHRpb248VD4pOiBPcHRpb248VD4ge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBwdWJsaWMgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgICAgIHJldHVybiBzb21lSXRlcmF0b3I8VD4odGhpcy52YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gU29tZTxUPih2YWx1ZTogVCk6IFNvbWU8VD4ge1xuICAgIHJldHVybiBuZXcgU29tZUltcGw8VD4odmFsdWUpO1xufVxuXG5leHBvcnQgdHlwZSBPcHRpb248VD4gPSBTb21lPFQ+IHwgTm9uZTxUPjtcbiJdfQ==