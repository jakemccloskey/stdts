"use strict";
const result_1 = require('./result');
function* noneIterator() { }
class NoneImpl {
    constructor() {
        this.kind = 'none';
    }
    isSome() {
        return false;
    }
    isNone() {
        return true;
    }
    unwrap(msg) {
        throw new Error(msg ? msg + ':' : '');
    }
    unwrapOr(def) {
        return def;
    }
    unwrapOrElse(f) {
        return f();
    }
    map(f) {
        return None();
    }
    mapOr(def, f) {
        return def;
    }
    mapOrElse(def, f) {
        return def();
    }
    okOr(err) {
        return result_1.Err(err);
    }
    okOrElse(err) {
        return result_1.Err(err());
    }
    and(optb) {
        return None();
    }
    andThen(f) {
        return None();
    }
    or(optb) {
        return optb;
    }
    orElse(f) {
        return f();
    }
    [Symbol.iterator]() {
        return noneIterator();
    }
}
function None() {
    return new NoneImpl();
}
exports.None = None;
function* someIterator(v) {
    yield v;
}
class SomeImpl {
    constructor(value) {
        this.kind = 'some';
        this.value = value;
    }
    isSome() {
        return true;
    }
    isNone() {
        return false;
    }
    unwrap() {
        return this.value;
    }
    unwrapOr(def) {
        return this.value;
    }
    unwrapOrElse(f) {
        return this.value;
    }
    map(f) {
        return Some(f(this.value));
    }
    mapOr(def, f) {
        return f(this.value);
    }
    mapOrElse(def, f) {
        return f(this.value);
    }
    okOr(err) {
        return result_1.Ok(this.value);
    }
    okOrElse(err) {
        return result_1.Ok(this.value);
    }
    and(optb) {
        return optb;
    }
    andThen(f) {
        return f(this.value);
    }
    or(optb) {
        return this;
    }
    orElse(f) {
        return this;
    }
    [Symbol.iterator]() {
        return someIterator(this.value);
    }
}
function Some(value) {
    return new SomeImpl(value);
}
exports.Some = Some;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9uLmpzIiwic291cmNlUm9vdCI6Ii4vc3JjLyIsInNvdXJjZXMiOlsib3B0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx5QkFBOEIsVUFBVSxDQUFDLENBQUE7QUF3QnpDLDJCQUFrRCxDQUFDO0FBRW5EO0lBQUE7UUFDb0IsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQTZEMUMsQ0FBQztJQTNEVSxNQUFNO1FBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxHQUFZO1FBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVNLFFBQVEsQ0FBQyxHQUFNO1FBQ2xCLE1BQU0sQ0FBQyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRU0sWUFBWSxDQUFDLENBQVU7UUFDMUIsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVNLEdBQUcsQ0FBSSxDQUFjO1FBQ3hCLE1BQU0sQ0FBQyxJQUFJLEVBQUssQ0FBQztJQUNyQixDQUFDO0lBRU0sS0FBSyxDQUFJLEdBQU0sRUFBRSxDQUFjO1FBQ2xDLE1BQU0sQ0FBQyxHQUFHLENBQUE7SUFDZCxDQUFDO0lBRU0sU0FBUyxDQUFJLEdBQVksRUFBRSxDQUFjO1FBQzVDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQTtJQUNoQixDQUFDO0lBRU0sSUFBSSxDQUFJLEdBQU07UUFDakIsTUFBTSxDQUFDLFlBQUcsQ0FBTyxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRU0sUUFBUSxDQUFJLEdBQVk7UUFDM0IsTUFBTSxDQUFDLFlBQUcsQ0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFTSxHQUFHLENBQUksSUFBZTtRQUN6QixNQUFNLENBQUMsSUFBSSxFQUFLLENBQUM7SUFDckIsQ0FBQztJQUVNLE9BQU8sQ0FBSSxDQUFzQjtRQUNwQyxNQUFNLENBQUMsSUFBSSxFQUFLLENBQUM7SUFDckIsQ0FBQztJQUVNLEVBQUUsQ0FBQyxJQUFlO1FBQ3JCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxDQUFrQjtRQUM1QixNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDZixDQUFDO0lBRU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ3BCLE1BQU0sQ0FBQyxZQUFZLEVBQUssQ0FBQztJQUM3QixDQUFDO0FBQ0wsQ0FBQztBQUVEO0lBQ0ksTUFBTSxDQUFDLElBQUksUUFBUSxFQUFLLENBQUM7QUFDN0IsQ0FBQztBQUZlLFlBQUksT0FFbkIsQ0FBQTtBQU9ELHVCQUEwQixDQUFJO0lBQzFCLE1BQU0sQ0FBQyxDQUFDO0FBQ1osQ0FBQztBQUVEO0lBSUksWUFBWSxLQUFRO1FBSEosU0FBSSxHQUFXLE1BQU0sQ0FBQztRQUlsQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRU0sTUFBTTtRQUNULE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLE1BQU07UUFDVCxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTSxNQUFNO1FBQ1QsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVNLFFBQVEsQ0FBQyxHQUFNO1FBQ2xCLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFTSxZQUFZLENBQUMsQ0FBVTtRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRU0sR0FBRyxDQUFJLENBQWM7UUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLEtBQUssQ0FBSSxHQUFNLEVBQUUsQ0FBYztRQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRU0sU0FBUyxDQUFJLEdBQVksRUFBRSxDQUFjO1FBQzVDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFFTSxJQUFJLENBQUksR0FBTTtRQUNqQixNQUFNLENBQUMsV0FBRSxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sUUFBUSxDQUFJLEdBQVk7UUFDM0IsTUFBTSxDQUFDLFdBQUUsQ0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVNLEdBQUcsQ0FBSSxJQUFlO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLE9BQU8sQ0FBSSxDQUFzQjtRQUNwQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBRU0sRUFBRSxDQUFDLElBQWU7UUFDckIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU0sTUFBTSxDQUFDLENBQWtCO1FBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNwQixNQUFNLENBQUMsWUFBWSxDQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxDQUFDO0FBQ0wsQ0FBQztBQUVELGNBQXdCLEtBQVE7SUFDNUIsTUFBTSxDQUFDLElBQUksUUFBUSxDQUFJLEtBQUssQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFGZSxZQUFJLE9BRW5CLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Jlc3VsdCwgT2ssIEVycn0gZnJvbSAnLi9yZXN1bHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE9wdGlvbkJhc2U8VD4ge1xuICAgIGlzU29tZSgpOiB0aGlzIGlzIFNvbWU8VD47XG4gICAgaXNOb25lKCk6IHRoaXMgaXMgTm9uZTxUPjtcbiAgICB1bndyYXAobXNnPzogc3RyaW5nKTogVDtcbiAgICB1bndyYXBPcihkZWY6IFQpOiBUO1xuICAgIHVud3JhcE9yRWxzZShmOiAoKSA9PiBUKTogVDtcbiAgICBtYXA8VT4oZjogKHY6IFQpID0+IFUpOiBPcHRpb248VT47XG4gICAgbWFwT3I8VT4oZGVmOiBVLCBmOiAodjogVCkgPT4gVSk6IFU7XG4gICAgbWFwT3JFbHNlPFU+KGRlZjogKCkgPT4gVSwgZjogKHY6IFQpID0+IFUpOiBVO1xuICAgIG9rT3I8RT4oZXJyOiBFKTogUmVzdWx0PFQsIEU+O1xuICAgIG9rT3JFbHNlPEU+KGVycjogKCkgPT4gRSk6IFJlc3VsdDxULCBFPjtcbiAgICBhbmQ8VT4ob3B0YjogT3B0aW9uPFU+KTogT3B0aW9uPFU+O1xuICAgIGFuZFRoZW48VT4oZjogKHY6IFQpID0+IE9wdGlvbjxVPik6IE9wdGlvbjxVPjtcbiAgICBvcihvcHRiOiBPcHRpb248VD4pOiBPcHRpb248VD47XG4gICAgb3JFbHNlKGY6ICgpID0+IE9wdGlvbjxUPik6IE9wdGlvbjxUPjtcbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vbmU8VD4gZXh0ZW5kcyBPcHRpb25CYXNlPFQ+IHtcbiAgICByZWFkb25seSBraW5kOiAnbm9uZSc7XG59XG5cbmZ1bmN0aW9uKiBub25lSXRlcmF0b3I8VD4oKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7fVxuXG5jbGFzcyBOb25lSW1wbDxUPiBpbXBsZW1lbnRzIE5vbmU8VD4gIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZDogJ25vbmUnID0gJ25vbmUnO1xuXG4gICAgcHVibGljIGlzU29tZSgpOiB0aGlzIGlzIFNvbWU8VD4ge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzTm9uZSgpOiB0aGlzIGlzIE5vbmU8VD4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwKG1zZz86IHN0cmluZyk6IFQge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID8gbXNnICsgJzonIDogJycpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1bndyYXBPcihkZWY6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG5cbiAgICBwdWJsaWMgdW53cmFwT3JFbHNlKGY6ICgpID0+IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIGYoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwPFU+KGY6ICh2OiBUKSA9PiBVKTogT3B0aW9uPFU+IHtcbiAgICAgICAgcmV0dXJuIE5vbmU8VT4oKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwT3I8VT4oZGVmOiBVLCBmOiAodjogVCkgPT4gVSk6IFUge1xuICAgICAgICByZXR1cm4gZGVmXG4gICAgfVxuXG4gICAgcHVibGljIG1hcE9yRWxzZTxVPihkZWY6ICgpID0+IFUsIGY6ICh2OiBUKSA9PiBVKTogVSB7XG4gICAgICAgIHJldHVybiBkZWYoKVxuICAgIH1cblxuICAgIHB1YmxpYyBva09yPEU+KGVycjogRSk6IFJlc3VsdDxULCBFPiB7XG4gICAgICAgIHJldHVybiBFcnI8VCwgRT4oZXJyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgb2tPckVsc2U8RT4oZXJyOiAoKSA9PiBFKTogUmVzdWx0PFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIEVycjxULCBFPihlcnIoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFuZDxVPihvcHRiOiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gTm9uZTxVPigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhbmRUaGVuPFU+KGY6ICh2OiBUKSA9PiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gTm9uZTxVPigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcihvcHRiOiBPcHRpb248VD4pOiBPcHRpb248VD4ge1xuICAgICAgICByZXR1cm4gb3B0YjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb3JFbHNlKGY6ICgpID0+IE9wdGlvbjxUPik6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiBmKCk7XG4gICAgfVxuXG4gICAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgICAgICByZXR1cm4gbm9uZUl0ZXJhdG9yPFQ+KCk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTm9uZTxUPigpOiBOb25lPFQ+IHtcbiAgICByZXR1cm4gbmV3IE5vbmVJbXBsPFQ+KCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU29tZTxUPiBleHRlbmRzIE9wdGlvbkJhc2U8VD4ge1xuICAgIHJlYWRvbmx5IGtpbmQ6ICdzb21lJztcbiAgICByZWFkb25seSB2YWx1ZTogVDtcbn1cblxuZnVuY3Rpb24qIHNvbWVJdGVyYXRvcjxUPih2OiBUKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgeWllbGQgdjtcbn1cblxuY2xhc3MgU29tZUltcGw8VD4gaW1wbGVtZW50cyBTb21lPFQ+IHtcbiAgICBwdWJsaWMgcmVhZG9ubHkga2luZDogJ3NvbWUnID0gJ3NvbWUnO1xuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogVDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBUKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNTb21lKCk6IHRoaXMgaXMgU29tZTxUPiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc05vbmUoKTogdGhpcyBpcyBOb25lPFQ+IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1bndyYXAoKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyB1bndyYXBPcihkZWY6IFQpOiBUIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHVud3JhcE9yRWxzZShmOiAoKSA9PiBUKTogVCB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBtYXA8VT4oZjogKHY6IFQpID0+IFUpOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gU29tZShmKHRoaXMudmFsdWUpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwT3I8VT4oZGVmOiBVLCBmOiAodjogVCkgPT4gVSk6IFUge1xuICAgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFwT3JFbHNlPFU+KGRlZjogKCkgPT4gVSwgZjogKHY6IFQpID0+IFUpOiBVIHtcbiAgICAgICAgcmV0dXJuIGYodGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9rT3I8RT4oZXJyOiBFKTogUmVzdWx0PFQsIEU+IHtcbiAgICAgICAgcmV0dXJuIE9rPFQsIEU+KHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBva09yRWxzZTxFPihlcnI6ICgpID0+IEUpOiBSZXN1bHQ8VCwgRT4ge1xuICAgICAgICByZXR1cm4gT2s8VCwgRT4odGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFuZDxVPihvcHRiOiBPcHRpb248VT4pOiBPcHRpb248VT4ge1xuICAgICAgICByZXR1cm4gb3B0YjtcbiAgICB9XG5cbiAgICBwdWJsaWMgYW5kVGhlbjxVPihmOiAodjogVCkgPT4gT3B0aW9uPFU+KTogT3B0aW9uPFU+IHtcbiAgICAgICAgcmV0dXJuIGYodGhpcy52YWx1ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9yKG9wdGI6IE9wdGlvbjxUPik6IE9wdGlvbjxUPiB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHB1YmxpYyBvckVsc2UoZjogKCkgPT4gT3B0aW9uPFQ+KTogT3B0aW9uPFQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcHVibGljIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICAgICAgICByZXR1cm4gc29tZUl0ZXJhdG9yPFQ+KHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNvbWU8VD4odmFsdWU6IFQpOiBTb21lPFQ+IHtcbiAgICByZXR1cm4gbmV3IFNvbWVJbXBsPFQ+KHZhbHVlKTtcbn1cblxuZXhwb3J0IHR5cGUgT3B0aW9uPFQ+ID0gU29tZTxUPiB8IE5vbmU8VD47XG4iXX0=